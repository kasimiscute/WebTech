<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script>
    $(document).ready(function() {
      $("#frequency").click(function(event) {
        createChart();
        $("#myChart").show();
      });

    });
    window.addEventListener("resize", resizeCanvas, false);

    function resizeCanvas() {
      w = canvas.width = widow.innerWidth();
      h = canvas.height = window.innerHeight();
    }

    function createChart() {
      var ctx = document.getElementById("myChart");
      var myChart = new Chart(ctx, {
        type: 'line', // 图表类型
        data: {
          labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange", "Grey"], //xlabel
          datasets: [{
            label: 'Frequency of tweets', //title

            fill: false,
            lineTension: 0.1,
            backgroundColor: "rgba(75,192,192,0.4)",
            borderColor: "rgba(75,192,192,1)",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "rgba(75,192,192,1)",
            pointBackgroundColor: "#fff",
            pointBorderWidth: 1,
            pointHoverRadius: 3,
            pointHoverBackgroundColor: "rgba(75,192,192,1)",
            pointHoverBorderColor: "rgba(220,220,220,1)",
            pointHoverBorderWidth: 2,
            pointRadius: 1,
            pointHitRadius: 5,
            data: [65, 59, 80, 81, 56, 55, 40], //data
            spanGaps: false,
          }]
        },

      });
    }
  </script>
</head>

<body>
  <div class="container-fluid">
    <div class="col-md-12">
      <nav class="navbar navbar-default navbar-inverse" role="navigation">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Tweet searching</a>
        </div>
        <div>
          <ul class="nav navbar-nav">
            <li>
              <a href="/">Home</a>
            </li>
            <li>
              <a href="#">button1</a>
            </li>
            <li>
              <a href="#">button2</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <div style="padding: 50px 100px 10px;">
      <form class="bs-example bs-example-form" role="form" action="/frequency" method="post">
        <div class="row">
          <div class="col-lg-10 col-lg-offset-1">
            <span class="label label-default" for="queryx">Input query here: </span>
            <div class="input-group">

              <input type="text" class="form-control" id="query" name="query">
              <span class="input-group-btn">
                        <button class="btn btn-primary" id="frequency" type="submit">Search!</button>
                    </span>
            </div>
            <!-- /input-group -->
          </div>
          <!-- /.col-lg-6 -->
        </div>
      </form>

    </div>
    <canvas id="myChart"></canvas>


    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <!--import chart.js-->

</body>

</html>
